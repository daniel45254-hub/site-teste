<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>No Meu Bairro Tem 🏡</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body { font-family: sans-serif; margin: 0; padding: 20px; text-align: center; background-color: #f5f5f5; }
h1 { margin-bottom: 20px; }
.tab-btn { padding: 10px 20px; margin: 5px; cursor: pointer; border-radius: 5px; border: none; background-color: #007BFF; color: white; }
.tab-btn:hover { background-color: #0056b3; }
.secao { display: none; margin-top: 20px; }
.item { border: 1px solid #ccc; padding: 10px; margin: 10px auto; width: 300px; border-radius: 8px; text-align: left; background-color: white; }
iframe { margin-top: 10px; width: 100%; height: 200px; border:0; border-radius: 5px; }
#busca { margin-top: 20px; padding: 8px; width: 90%; max-width: 400px; border-radius: 5px; border:1px solid #ccc; }
</style>
</head>
<body>

<h1>No Meu Bairro Tem 🏡</h1>

<div>
    <button class="tab-btn" onclick="mostrarSecao('comercio')">Comércio 🏪</button>
    <button class="tab-btn" onclick="mostrarSecao('servicos')">Serviços 🛠️</button>
    <button class="tab-btn" onclick="mostrarSecao('escolas')">Escolas 🎓</button>
</div>

<input type="text" id="busca" placeholder="Buscar por nome ou endereço..." onkeyup="filtrar()">

<div id="comercio" class="secao"></div>
<div id="servicos" class="secao"></div>
<div id="escolas" class="secao"></div>

<script>
// Lista de bairros de Santana de Parnaíba com exemplos de pontos
let dados = {
    comercio: [
        {nome: "Padaria Pão Doce", endereco: "Rua das Flores, 123, Alphaville, Santana de Parnaíba", telefone: "(11) 1234-5678"},
        {nome: "Mercado Central", endereco: "Av. dos Bandeirantes, 45, Centro, Santana de Parnaíba", telefone: "(11) 2345-6789"},
        {nome: "Supermercado Bom Preço", endereco: "Rua das Acácias, 78, Tamboré, Santana de Parnaíba", telefone: "(11) 3456-7890"}
    ],
    servicos: [
        {nome: "Posto de Saúde Central", endereco: "Rua do Sol, 10, Centro, Santana de Parnaíba", telefone: "(11) 4567-8901"},
        {nome: "Oficina Mecânica Silva", endereco: "Rua das Palmeiras, 77, Alphaville, Santana de Parnaíba", telefone: "(11) 5678-9012"},
        {nome: "Clínica Odontológica Sorriso", endereco: "Av. das Flores, 200, Tamboré, Santana de Parnaíba", telefone: "(11) 6789-0123"}
    ],
    escolas: [
        {nome: "Escola Municipal João da Silva", endereco: "Av. Brasil, 50, Centro, Santana de Parnaíba", telefone: "(11) 7890-1234"},
        {nome: "Colégio Estadual Santa Maria", endereco: "Rua das Acácias, 88, Alphaville, Santana de Parnaíba", telefone: "(11) 8901-2345"},
        {nome: "Escola Particular Monteiro", endereco: "Av. das Palmeiras, 300, Tamboré, Santana de Parnaíba", telefone: "(11) 9012-3456"}
    ]
};

// Salvar no localStorage se ainda não existir
if(!localStorage.getItem('comercios')) localStorage.setItem('comercios', JSON.stringify(dados.comercio));
if(!localStorage.getItem('servicos')) localStorage.setItem('servicos', JSON.stringify(dados.servicos));
if(!localStorage.getItem('escolas')) localStorage.setItem('escolas', JSON.stringify(dados.escolas));

let secaoAtual = 'comercio';

function mostrarSecao(secao) {
    document.querySelectorAll('.secao').forEach(s => s.style.display = 'none');
    document.getElementById(secao).style.display = 'block';
    secaoAtual = secao;
    carregarSecao(secao);
}

function criarItem(c) {
    const div = document.createElement('div');
    div.className = 'item';
    div.innerHTML = `
        <strong>${c.nome}</strong><br>
        ${c.endereco}<br>
        ${c.telefone || ''}<br>
        <iframe 
            src="https://www.google.com/maps/embed/v1/place?key=SUA_CHAVE_API&q=${encodeURIComponent(c.endereco)}"
            allowfullscreen>
        </iframe>
    `;
    return div;
}

function carregarSecao(secao) {
    const container = document.getElementById(secao);
    container.innerHTML = '';
    let dadosSecao = JSON.parse(localStorage.getItem(secao) || '[]');
    dadosSecao.forEach(c => container.appendChild(criarItem(c)));
}

function filtrar() {
    const filtro = document.getElementById('busca').value.toLowerCase();
    const container = document.getElementById(secaoAtual);
    container.innerHTML = '';
    let dadosSecao = JSON.parse(localStorage.getItem(secaoAtual) || '[]');
    dadosSecao
        .filter(c => c.nome.toLowerCase().includes(filtro) || c.endereco.toLowerCase().includes(filtro))
        .forEach(c => container.appendChild(criarItem(c)));
}

// Inicializa mostrando Comércio
mostrarSecao('comercio');
</script>

</body>
</html>
